<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Podcast — Israelite Research</title>
  <link rel="stylesheet" href="styles.css" />
  <script src="js/include.js" defer></script>
</head>
<body>
  <!-- Shared header -->
  <div data-include="partials/header.html"></div>

  <main class="container podcast-page">
    <!-- Hero / Intro -->
    <section class="hero">
      <h1>Podcast</h1>
      <p>Conversations exploring Scripture, history, and Israelite thought.</p>
    </section>

    <!-- Where to listen / subscribe -->
    <section class="subscribe-bar" style="display:flex;gap:1rem;flex-wrap:wrap;align-items:center;margin:1rem 0;">
      <span style="font-weight:600;">Listen on:</span>
      <a href="https://open.spotify.com/show/0GvSSHiBeVAmvHMIXP6lOi" target="_blank" rel="noopener">Spotify</a>
      <span aria-hidden="true">•</span>
      <a href="https://podcasts.apple.com/" target="_blank" rel="noopener">Apple Podcasts</a>
      <span aria-hidden="true">•</span>
      <a href="feed.xml" target="_blank" rel="noopener">RSS</a>
    </section>

    <!-- Featured player (show embed) -->
    <section class="featured-episode" style="margin: 1.5rem 0;">
      <iframe style="border-radius:12px" src="https://open.spotify.com/embed/show/0GvSSHiBeVAmvHMIXP6lOi"
        width="100%" height="232" frameborder="0" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
        loading="lazy" title="Podcast player"></iframe>
    </section>

    <!-- Controls (Episodes tab + sort) -->
    <section class="episodes-controls" style="display:flex;justify-content:space-between;align-items:center;margin:1rem 0;">
      <div class="tabs">
        <button type="button" class="tab-btn" aria-pressed="true" style="padding:.5rem 1rem;border:1px solid #e0e0e0;border-radius:6px;background:#fff;">Episodes</button>
        <!-- If you add a Series page later, make another button and toggle views with JS -->
      </div>
      <label style="font-size:13px;color:#555;">
        Sort:
        <select id="sortSelect">
          <option value="newest">Newest First</option>
          <option value="oldest">Oldest First</option>
        </select>
      </label>
    </section>

    <!-- Episodes grid (reuses your card styles) -->
    <section id="episodesGrid" class="articles-grid">
      <!-- Episode Card 1 -->
      <article class="card article-card" data-date="2025-08-01">
        <a href="https://open.spotify.com/show/0GvSSHiBeVAmvHMIXP6lOi" class="card-link" target="_blank" rel="noopener">
          <img src="images/creation.png" alt="Episode artwork" class="card-image" />
          <div class="card-content">
            <h3 class="card-title">Understanding the Creation Narrative</h3>
            <p class="card-excerpt">Why logic and Scripture alone guide interpretation of Genesis 1–3.</p>
            <div class="card-meta"><span class="date">Aug 1, 2025</span> • <span class="author">Podcast</span></div>
          </div>
        </a>
      </article>

      <!-- Episode Card 2 (sample placeholder) -->
      <article class="card article-card" data-date="2025-07-15">
        <a href="#" class="card-link">
          <img src="images/podcast-placeholder.jpg" alt="Episode artwork" class="card-image" />
          <div class="card-content">
            <h3 class="card-title">Canon, Context, and Clarity</h3>
            <p class="card-excerpt">How the whole canon and historical context sharpen our reading.</p>
            <div class="card-meta"><span class="date">Jul 15, 2025</span> • <span class="author">Podcast</span></div>
          </div>
        </a>
      </article>

      <!-- Episode Card 3 (sample placeholder) -->
      <article class="card article-card" data-date="2025-06-20">
        <a href="#" class="card-link">
          <img src="images/podcast-placeholder.jpg" alt="Episode artwork" class="card-image" />
          <div class="card-content">
            <h3 class="card-title">Wisdom Literature and Daily Life</h3>
            <p class="card-excerpt">Proverbs, Job, and Ecclesiastes for modern discipleship.</p>
            <div class="card-meta"><span class="date">Jun 20, 2025</span> • <span class="author">Podcast</span></div>
          </div>
        </a>
      </article>
    </section>

    <!-- Pagination / Load more -->
    <div class="pagination" style="display:flex;gap:.75rem;justify-content:center;margin:2rem 0;">
      <a href="#" class="prev" aria-disabled="true" style="opacity:.5;pointer-events:none;">&laquo; Previous</a>
      <a href="#" class="next">Next &raquo;</a>
    </div>
  </main>

  <!-- Shared footer -->
  <div data-include="partials/footer.html"></div>

  <!-- Lightweight client-side sort by date -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const select = document.getElementById('sortSelect');
      const grid = document.getElementById('episodesGrid');

      function sortEpisodes(order) {
        const cards = Array.from(grid.children);
        cards.sort((a,b) => {
          const da = new Date(a.getAttribute('data-date'));
          const db = new Date(b.getAttribute('data-date'));
          return order === 'oldest' ? da - db : db - da;
        });
        cards.forEach(c => grid.appendChild(c));
      }

      select.addEventListener('change', () => sortEpisodes(select.value));
      sortEpisodes(select.value); // initial
    });
  </script>
</body>
</html>
