// timeline.js
document.addEventListener('DOMContentLoaded', () => {
  const markers = [];

  const timelineEl = document.getElementById('timeline');
  const form = document.getElementById('marker-form');

  function renderTimeline() {
    timelineEl.innerHTML = '';
    markers.sort((a, b) => a.date.localeCompare(b.date));
    markers.forEach(m => {
      const markerEl = document.createElement('div');
      markerEl.className = 'timeline-marker';
      markerEl.innerHTML = `<strong>${m.date}:</strong> ${m.title}<p>${m.description}</p>`;
      timelineEl.appendChild(markerEl);
    });
  }

  form.addEventListener('submit', e => {
    e.preventDefault();
    const date = form['marker-date'].value;
    const title = form['marker-title'].value;
    const description = form['marker-description'].value;
    markers.push({ date, title, description });
    renderTimeline();
    form.reset();
  });

  // initial render
  renderTimeline();
});

