<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Donations — Semitic Jew</title>
  <link rel="stylesheet" href="/israelite-research/styles.css" />
  <style>
    /* ===== Scoped styles so nothing leaks site-wide ===== */
    .donations-page .container{max-width:1000px;margin:0 auto;padding:0 16px;}
    .donations-page .page-header{padding:24px 0 8px;}
    .donations-page .page-title{margin:0;font-size:2rem;font-weight:800;color:#0b2340;}
    .donations-page .intro{color:#555;line-height:1.6;margin:.25rem 0 1.25rem;max-width:820px}

    .donations-card{
      background:#fff;border:1px solid #e6ebf2;border-radius:14px;
      box-shadow:0 8px 28px rgba(0,0,0,.06); overflow:hidden
    }

    /* Frequency toggle */
    .freq-toggle{display:flex;gap:8px;padding:14px;border-bottom:1px solid #eef2f7;background:#fafbff}
    .toggle-btn{
      flex:0 0 auto; padding:.55rem .85rem;border:1px solid #d9e1ec;background:#fff;
      border-radius:10px; cursor:pointer; font-weight:700
    }
    .toggle-btn[aria-pressed="true"]{background:#054A91;color:#fff;border-color:#054A91}

    /* Amounts */
    .amount-wrap{padding:16px;display:grid;grid-template-columns:1fr;gap:14px}
    .amount-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:10px}
    .amt{
      border:1px solid #d9e1ec;background:#fff;border-radius:10px;padding:.8rem 0;
      text-align:center;cursor:pointer;font-weight:700
    }
    .amt[aria-pressed="true"]{background:#F17300;color:#fff;border-color:#F17300}
    .other-row{display:flex;gap:10px;align-items:center}
    .other-row label{font-weight:600;color:#0b2340}
    .other-input{
      flex:1;border:1px solid #d9e1ec;border-radius:10px;padding:.55rem .7rem;font:inherit
    }

    /* Purpose + CTA */
    .purpose{padding:0 16px 16px;color:#444;line-height:1.55}
    .purpose h3{margin:.25rem 0 .5rem;font-size:1.1rem}
    .purpose ul{margin:.25rem 0 0 1.1rem}
    .purpose li{margin:.25rem 0}
    .cta{
      display:flex;justify-content:flex-end;gap:10px;padding:14px;border-top:1px solid #eef2f7
    }
    .btn{
      padding:.7rem 1rem;border:1px solid #e6ebf2;background:#fff;border-radius:10px;cursor:pointer;font-weight:700
    }
    .btn-primary{background:#054A91;color:#fff;border-color:#054A91}
    .btn-primary:hover{filter:brightness(1.05)}
    .secure-note{display:flex;align-items:center;gap:8px;color:#6b7280;font-size:.9rem;margin-top:.35rem}

    /* Receipt + legal */
    .fineprint{color:#6b7280;font-size:.9rem;margin-top:12px}

    @media (max-width:720px){
      .amount-grid{grid-template-columns:repeat(2,1fr)}
    }
  </style>
</head>
<body class="donations-page">
  <!-- Header partial -->
  <div id="site-header"></div>

  <main>
    <!-- Simple title (no universal hero, no breadcrumbs) -->
    <header class="page-header">
      <div class="container">
        <h1 class="page-title">Donations</h1>
        <p class="intro">
          Your gift fuels Israelite Research: gathering resources, creating faithful content,
          and building curriculum that serves Israelite families and families of the nations who love God’s people.
        </p>
      </div>
    </header>

    <section class="container">
      <div class="donations-card" role="region" aria-labelledby="donateTitle">
        <div class="freq-toggle" role="tablist" aria-label="Donation frequency">
          <button class="toggle-btn" id="monthlyBtn" role="tab" aria-selected="true" aria-pressed="true">Monthly</button>
          <button class="toggle-btn" id="onceBtn" role="tab" aria-selected="false" aria-pressed="false">One-time</button>
        </div>

        <div class="amount-wrap">
          <div aria-live="polite" class="secure-note">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
              <path d="M12 1l3 5 5 .5-3.8 3.2 1 5-5.2-2.6L6 14.7l1-5L3 6.5 8 6l4-5z"></path>
            </svg>
            Card payments are encrypted and secure.
          </div>

          <!-- Amount buttons -->
          <div class="amount-grid" role="group" aria-label="Choose amount">
            <button class="amt" data-amount="5"  aria-pressed="false">$5</button>
            <button class="amt" data-amount="10" aria-pressed="true">$10</button>
            <button class="amt" data-amount="20" aria-pressed="false">$20</button>
            <button class="amt" data-amount="other" aria-pressed="false">Other</button>
          </div>

          <!-- Other amount -->
          <div class="other-row">
            <label for="otherAmount" id="otherLabel">Other amount</label>
            <input type="number" min="1" step="1" inputmode="numeric" class="other-input" id="otherAmount" placeholder="Enter amount" aria-labelledby="otherLabel" style="display:none" />
          </div>
        </div>

        <div class="purpose">
          <h3>Where your gift goes</h3>
          <ul>
            <li><strong>Research &amp; resources</strong> — sourcing primary texts and scholarship.</li>
            <li><strong>Content creation</strong> — articles, studies, and multimedia.</li>
            <li><strong>Curriculum development</strong> — tools for Israelite families and the nations who love God’s people.</li>
          </ul>
          <p class="fineprint">You’ll receive a receipt by email. Recurring gifts can be cancelled anytime.</p>
        </div>

        <div class="cta">
          <button class="btn" id="previewBtn" type="button">Preview</button>
          <button class="btn btn-primary" id="donateBtn" type="button">Donate</button>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer partial -->
  <div id="site-footer"></div>

  <script src="/israelite-research/js/include.js"></script>
  <script>
    (function(){
      const monthlyBtn = document.getElementById('monthlyBtn');
      const onceBtn    = document.getElementById('onceBtn');
      const amountBtns = Array.from(document.querySelectorAll('.amt'));
      const otherInput = document.getElementById('otherAmount');
      const donateBtn  = document.getElementById('donateBtn');
      const previewBtn = document.getElementById('previewBtn');

      let state = { frequency: 'monthly', amount: 10 };

      function setFrequency(freq){
        state.frequency = freq;
        monthlyBtn.setAttribute('aria-pressed', String(freq==='monthly'));
        onceBtn.setAttribute('aria-pressed', String(freq==='once'));
        monthlyBtn.setAttribute('aria-selected', String(freq==='monthly'));
        onceBtn.setAttribute('aria-selected', String(freq==='once'));
      }

      function setAmount(val){
        amountBtns.forEach(b=>b.setAttribute('aria-pressed','false'));
        const btn = amountBtns.find(b=> (b.dataset.amount === String(val)) || (val==='other' && b.dataset.amount==='other'));
        if(btn) btn.setAttribute('aria-pressed','true');

        if(val==='other'){
          otherInput.style.display = '';
          otherInput.focus();
          state.amount = null;
        }else{
          otherInput.style.display = 'none';
          otherInput.value = '';
          state.amount = Number(val);
        }
      }

      monthlyBtn.addEventListener('click', ()=> setFrequency('monthly'));
      onceBtn.addEventListener('click',    ()=> setFrequency('once'));

      amountBtns.forEach(b=>{
        b.addEventListener('click', ()=>{
          const v = b.dataset.amount === 'other' ? 'other' : Number(b.dataset.amount);
          setAmount(v);
        });
      });

      previewBtn.addEventListener('click', ()=>{
        const amt = state.amount ?? Number(otherInput.value || 0);
        if(!amt || amt < 1){ alert('Please enter a valid amount.'); return; }
        alert(`Preview:\n${state.frequency==='monthly'?'Monthly':'One-time'} donation of $${amt.toFixed(0)}.`);
      });

      donateBtn.addEventListener('click', ()=>{
        const amt = state.amount ?? Number(otherInput.value || 0);
        if(!amt || amt < 1){ alert('Please enter a valid amount.'); return; }

        // TODO: Replace the below with your processor’s Checkout link(s).
        // For Stripe, you would redirect to a price-specific Checkout URL based on frequency & amount.
        // Example pseudo-logic:
        //   if(state.frequency==='monthly' && amt===10) window.location.href = 'https://checkout.stripe.com/pay/price_xxx';
        //   else if(state.frequency==='once' && amt===10) window.location.href = 'https://checkout.stripe.com/pay/price_yyy';
        // For "Other" amounts, route to a generic payment link that allows custom amounts.

        console.log('Donate →', {frequency: state.frequency, amount: amt});
        alert(`${state.frequency==='monthly'?'Monthly':'One-time'} donation of $${amt.toFixed(0)} — connect your payment link in the code where indicated.`);
      });

      // defaults
      setFrequency('monthly');
      setAmount(10);
    })();
  </script>
</body>
</html>
