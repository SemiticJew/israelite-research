<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Tanakh — Chapter</title>
  <link rel="stylesheet" href="../styles.css" />
  <script src="../js/include.js" defer></script>
  <script src="../js/breadcrumbs.js" defer></script>
  <script src="../js/chapter.js" defer></script>
  <style>
    /* BLB-like layout (match NT) */
    .chapter-wrap { max-width: 1200px; margin: 0 auto 2.5rem; }
    .chapter-head h1 { margin:.25rem 0; font-family: var(--ff-serif); }
    .label { color:#666; font-size:.9rem; margin:.25rem 0 .6rem; }

    .topline { display:flex; flex-wrap:wrap; gap:.5rem 1rem; align-items:center; margin:.5rem 0 1rem; }

    .chapter-grid { display:grid; grid-template-columns: 1fr minmax(260px, 340px); gap: 1.25rem; }
    @media (max-width: 980px) { .chapter-grid { grid-template-columns: 1fr; } }

    /* === BLB-style enclosure around verses === */
    .verses {
      border: 1px solid #DBE4EE;
      border-radius: 12px;
      background: #fff;
      box-shadow: 0 1px 0 rgba(0,0,0,0.03);
      overflow: hidden;
    }
    .verse { scroll-margin-top: 96px; padding:.55rem .75rem; border-bottom:1px solid #EEF2F7; background:#fff; }
    .verse:last-child { border-bottom: 0; }
    .verse:hover { background:#F8FAFD; }

    .vrow { display:flex; gap:.75rem; }
    .vnum { width: 2.2rem; color:#666; text-align:right; font-variant-numeric: tabular-nums; }
    .vnum a { text-decoration:none; color:inherit; display:inline-block; padding:2px 6px; border-radius:6px; }
    .verse:hover .vnum a { background:#DBE4EE; }
    .vtext { flex:1; }

    .tools-row { display:flex; gap:.4rem; flex-wrap:wrap; margin:.35rem 0 0 3rem; }
    .tool-btn { padding:.3rem .55rem; border:1px solid #DBE4EE; border-radius:8px; background:#fff; cursor:pointer; font-size:.9rem; }
    .tool-btn:hover { background:#DBE4EE; border-color:#81A4CD; }

    .side { position: sticky; top: 72px; align-self: start; }
    .panel { border:1px dashed #DBE4EE; border-radius:12px; padding:.75rem .9rem; background:#fff; margin:0 0 .85rem; display:none; }
    .panel.open { display:block; }
    .panel h3 { margin:.1rem 0 .35rem; font-size:1rem; }
    .empty { color:#777; font-style:italic; }

    .btn[aria-disabled="true"] { pointer-events:none; opacity:.5; }

    /* === Unified dropdown style for chapter + verse (the only change) === */
    #chap-picker select,
    #verse-picker {
      padding: .3rem .5rem;
      border: 1px solid #DBE4EE;
      border-radius: 8px;
      background: #fff;
      font-size: .95rem;
    }
    #chap-picker select:focus,
    #verse-picker:focus {
      outline: none;
      box-shadow: 0 0 0 3px rgba(62,124,177,.15);
      border-color: #81A4CD;
    }
  </style>
</head>
<body>
  <div data-include="../partials/header-nested.html"></div>

  <main class="container">
    <nav id="crumbs" class="crumbs"></nav>

    <div class="chapter-wrap">
      <div class="chapter-head">
        <div class="label" id="path">Texts / The Tanakh / <span id="book-label"></span></div>
        <h1 id="title">Genesis 1</h1>
      </div>

      <div class="topline">
        <div class="jump-form">
          <label for="chap-picker" class="label" style="margin:0;">Chapter</label>
          <span id="chap-picker" class="picker"></span>
        </div>
        <div class="jump-form">
          <label for="verse-picker" class="label" style="margin:0;">Verse</label>
          <select id="verse-picker"></select>
          <button id="jump-btn" class="btn" type="button">Jump</button>
        </div>
        <div style="margin-left:auto; display:flex; gap:.5rem;">
          <a id="prev" class="btn" href="#">« Prev</a>
          <a id="next" class="btn" href="#">Next »</a>
        </div>
      </div>

      <div class="chapter-grid">
        <section id="verses" class="verses"></section>

        <aside class="side">
          <div id="panel-xrefs" class="panel">
            <h3>Cross References</h3>
            <div class="body empty">Select a verse.</div>
          </div>
          <div id="panel-notes" class="panel">
            <h3>Notes</h3>
            <div class="body empty">Add your commentary notes for this verse.</div>
          </div>
          <div id="panel-study" class="panel">
            <h3>Study</h3>
            <div class="body empty">Study tools coming soon.</div>
          </div>
        </aside>
      </div>
    </div>
  </main>

  <div data-include="../partials/footer.html"></div>
</body>
</html>
