<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Chapter</title>
<link rel="stylesheet" href="/israelite-research/styles.css"/>
<style>
  :root{--ink:#0b2340;--accent:#F17300;--brand:#054A91;--muted:#6b7280;--sky:#DBE4EE;--white:#fff}
  .container{max-width:1200px;margin:0 auto;padding:0 16px}
  .page-header{padding:24px 0 8px}
  .page-title{margin:0;font-size:2rem;font-weight:800}
  .crumbs{color:var(--muted);font-size:.9rem;margin-top:4px}
  .layout{display:grid;grid-template-columns:2fr 1fr;gap:18px;margin:16px 0 40px}
  .panel{background:var(--white);border:1px solid var(--sky);border-radius:10px;padding:14px}
  .muted{color:var(--muted)}
  .verse{display:flex;gap:8px;margin:.45rem 0;position:relative;padding-right:84px}
  .vnum{min-width:26px;text-align:right;color:var(--muted)}
  .vtext{color:#111;line-height:1.5}
  .panel h3{margin:.2rem 0 0.6rem;font-size:1.05rem;color:var(--brand)}
  @media (max-width:900px){.layout{grid-template-columns:1fr}}

  .reader-toolbar{
    position: sticky; top: 0; z-index: 50;
    display:flex; align-items:center; justify-content:center; gap:.5rem; flex-wrap:wrap;
    background:#fff; border:1px solid var(--sky); border-radius:10px;
    padding:.5rem; margin:10px 0 16px; box-shadow:0 1px 6px rgba(0,0,0,.05);
  }
  .reader-toolbar .btn,
  .reader-toolbar select{
    padding:.45rem .6rem; border:1px solid #e6ebf2; background:#fff; border-radius:10px; font:inherit; cursor:pointer;
  }
  .reader-toolbar .btn:hover{ background:#f8fafc }

  .v-actions{position:absolute; right:6px; top:2px; display:flex; gap:6px}
  .v-actions button{
    border:1px solid #e6ebf2; background:#fff; border-radius:8px; padding:.15rem .35rem;
    font-size:.78rem; cursor:pointer;
  }
  .v-actions button:hover{ background:#f8fafc }

  .badge{
    display:inline-block; margin-left:.35rem; padding:.05rem .35rem; border:1px solid var(--sky);
    border-radius:8px; font-size:.78rem; color:#333; background:#054A910D; cursor:pointer;
  }

  .hovercard{
    position:fixed; z-index:9999; display:none; max-width:min(380px, 92vw);
    background:#fff; border:1px solid #e6ebf2; border-radius:10px;
    box-shadow:0 8px 30px rgba(0,0,0,.12);
    padding:.6rem .7rem; font-size:.9rem;
  }
  .hovercard.open{ display:block }

  .dict-head{display:flex; align-items:center; justify-content:space-between; gap:.5rem; margin-bottom:.4rem}
  .dict-title{font-weight:700; color:var(--ink)}
  .icon-btn{border:1px solid #e6ebf2; background:#fff; border-radius:8px; padding:.35rem; cursor:pointer}
  .icon-btn:hover{background:#f8fafc}
  .dict-reveal{overflow:hidden; max-height:0; transition:max-height .2s ease}
  .dict-input{width:100%; border:1px solid var(--sky); border-radius:10px; padding:.5rem .6rem; font:inherit}
  .dict-body{margin-top:.5rem; font-size:.95rem; line-height:1.5}
</style>
</head>
<body>
<div id="site-header"></div>

<main class="container">
  <header class="page-header">
    <h1 class="page-title" id="pageTitle">Bible Reader</h1>
    <div class="crumbs" id="crumbs">Canon → Book → Chapter</div>
  </header>

  <div class="reader-toolbar" id="readerToolbar" role="navigation" aria-label="Chapter navigation">
    <button class="btn prev" id="btnPrev" aria-label="Previous chapter">← Prev</button>
    <select id="canonSelect" aria-label="Select canon">
      <option value="tanakh">Tanakh</option>
      <option value="newtestament">New Testament</option>
      <option value="apocrypha">Apocrypha</option>
    </select>
    <select id="bookSelect" aria-label="Select book"></select>
    <select id="chSelect" aria-label="Select chapter"></select>
    <button class="btn next" id="btnNext" aria-label="Next chapter">Next →</button>
  </div>

  <section class="layout">
    <div class="panel">
      <h3>Text</h3>
      <div id="verses"><p class="muted">Loading…</p></div>
    </div>

    <aside class="panel">
      <div class="dict-head">
        <div class="dict-title">Bible Dictionary</div>
        <button class="icon-btn" id="dictToggle" title="Open search">
          <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true">
            <path d="M21 21l-4.35-4.35m1.18-5.15a7 7 0 11-14 0 7 7 0 0114 0z"
                  fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </button>
      </div>
      <div class="dict-reveal" id="dictReveal" data-open="0" aria-hidden="true">
        <input class="dict-input" id="dictQuery" type="search" placeholder="Type a word, then press Enter">
      </div>
      <div class="dict-body" id="dictBody"><p class="muted">Open the search to look up a term.</p></div>
    </aside>
  </section>
</main>

<div id="site-footer"></div>

<div id="hovercard" class="hovercard" role="dialog" aria-hidden="true"></div>

<script src="/israelite-research/js/include.js" defer></script>
<script src="/israelite-research/js/nt-chapter.js" defer></script>
</body>
</html>
