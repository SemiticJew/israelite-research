<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>New Testament — Chapter</title>
<link rel="stylesheet" href="/israelite-research/styles.css"/>
<style>
/* … your existing styles unchanged … */
</style>
</head>
<body>
<div id="site-header"></div>

<main class="container">
  <header class="page-header">
    <h1 class="page-title" id="pageTitle">New Testament (KJV)</h1>
    <div class="crumbs" id="crumbs">New Testament → Book → Chapter</div>
  </header>

  <div class="reader-toolbar" id="readerToolbar" role="navigation" aria-label="Chapter navigation">
    <button class="btn prev" id="btnPrev" aria-label="Previous chapter">← Prev</button>
    <div class="ch-picker">
      <label for="chSelect" class="sr-only">Select chapter</label>
      <select id="chSelect"></select>
    </div>
    <button class="btn next" id="btnNext" aria-label="Next chapter">Next →</button>
  </div>

  <section class="layout">
    <div class="panel">
      <h3>Text</h3>
      <div id="verses"><p class="muted">Loading…</p></div>
    </div>

    <aside class="panel" id="dictAside">
      <h3>Zondervan Compact Bible Dictionary</h3>
      <div style="display:flex; gap:.5rem; align-items:center; margin-bottom:.5rem">
        <input id="dictSearch" type="search" placeholder="Search term (e.g., Faith, Covenant)…" style="flex:1; border:1px solid #DBE4EE; border-radius:10px; padding:.5rem .6rem">
      </div>
      <div id="dictPanel"><p class="muted">Add <code>data/dictionaries/zondervan.json</code> to enable offline lookups.</p></div>
    </aside>
  </section>
</main>

<div id="site-footer"></div>
<div id="hovercard" class="hovercard" role="dialog" aria-hidden="true"></div>

<!-- Strong’s Lexicons -->
<script src="/israelite-research/js/lexicon/strongs-hebrew-dictionary.js"></script>
<script src="/israelite-research/js/lexicon/strongs-greek-dictionary.js"></script>

<!-- Page logic -->
<script src="/israelite-research/js/include.js"></script>
<script src="/israelite-research/js/wire-chapter-cards.js"></script>
<script src="/israelite-research/js/ensure-nt-grid.js"></script>

<!-- Lexicon lookup helper -->
<script>
function loadScript(src){return new Promise(r=>{const s=document.createElement('script');s.src=src;s.onload=r;document.head.appendChild(s);});}
async function ensureLexicon(which){
  if(which==='H' && !window.strongsHebrewDictionary){
    await loadScript('/israelite-research/js/lexicon/strongs-hebrew-dictionary.js');
  }
  if(which==='G' && !window.strongsGreekDictionary){
    await loadScript('/israelite-research/js/lexicon/strongs-greek-dictionary.js');
  }
}
function normalizeStrongs(c){return String(c||'').toUpperCase().replace(/^([GH])0+(\d+)/,'$1$2');}
async function lookupStrongs(code){
  const n = normalizeStrongs(code);
  await ensureLexicon(n[0]);
  const dict = n.startsWith('H') ? (window.strongsHebrewDictionary||{}) : (window.strongsGreekDictionary||{});
  return dict[n] || null;
}
</script>

</body>
</html>
