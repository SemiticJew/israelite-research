<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>New Testament — Chapter</title>
<link rel="stylesheet" href="/israelite-research/styles.css"/>
<style>
  :root{--ink:#0b2340;--accent:#F17300;--brand:#054A91;--muted:#6b7280;--sky:#DBE4EE;--white:#fff}
  .container{max-width:1200px;margin:0 auto;padding:0 16px}
  .page-header{padding:24px 0 8px}
  .page-title{margin:0;font-size:2rem;font-weight:800}
  .crumbs{color:var(--muted);font-size:.9rem;margin-top:4px}
  .layout{display:grid;grid-template-columns:2fr 1fr;gap:18px;margin:16px 0 40px}
  .panel{background:var(--white);border:1px solid var(--sky);border-radius:10px;padding:14px}
  .muted{color:var(--muted)}
  .verse{display:flex;gap:8px;margin:.45rem 0;position:relative;padding-right:84px;cursor:pointer}
  .vnum{min-width:26px;text-align:right;color:var(--muted)}
  .vtext{color:#111;line-height:1.5}
  .panel h3{margin:.2rem 0 0.6rem;font-size:1.05rem;color:var(--brand)}
  .lex{margin:0;padding-left:1.1rem}
  .lex li{margin:.35rem 0}
  @media (max-width:900px){.layout{grid-template-columns:1fr}}

  .reader-toolbar{
    position: sticky; top: 0; z-index: 50;
    display:flex; align-items:center; justify-content:center; gap:.75rem;
    background:#fff; border:1px solid var(--sky); border-radius:10px;
    padding:.5rem; margin:10px 0 16px; box-shadow:0 1px 6px rgba(0,0,0,.05);
  }
  .reader-toolbar .btn{
    padding:.45rem .7rem; border:1px solid #e6ebf2; background:#fff; border-radius:10px; cursor:pointer; font:inherit;
  }
  .reader-toolbar .btn:hover{ background:#f8fafc }
  .reader-toolbar .ch-picker select{
    border:1px solid #e6ebf2; border-radius:10px; padding:.45rem .6rem; font:inherit;
  }

  .v-actions{position:absolute; right:6px; top:2px; display:flex; gap:6px}
  .v-actions button{
    border:1px solid #e6ebf2; background:#fff; border-radius:8px; padding:.15rem .35rem;
    font-size:.78rem; cursor:pointer;
  }
  .v-actions button:hover{ background:#f8fafc }

  .badge{
    display:inline-block; margin-left:.35rem; padding:.05rem .35rem; border:1px solid var(--sky);
    border-radius:8px; font-size:.78rem; color:#333; background:#054A910D; cursor:pointer;
  }

  .hovercard{
    position:fixed; z-index:9999; display:none; max-width:min(380px, 92vw);
    background:#fff; border:1px solid #e6ebf2; border-radius:10px;
    box-shadow:0 8px 30px rgba(0,0,0,.12);
    padding:.6rem .7rem; font-size:.9rem;
  }
  .hovercard.open{ display:block }

  .vc-head{display:flex; align-items:center; justify-content:space-between; gap:.5rem; margin-bottom:.4rem}
  .vc-ref{font-weight:700; color:var(--ink)}
  .vc-buttons{display:flex; gap:.4rem}
  .vc-btn{border:1px solid #e6ebf2; background:#fff; border-radius:8px; padding:.3rem .55rem; font:inherit; cursor:pointer}
  .vc-btn:hover{background:#f8fafc}
  .vc-text{width:100%; min-height:160px; border:1px solid var(--sky); border-radius:10px; padding:.6rem; font:inherit; line-height:1.5}
  .vc-foot{display:flex; align-items:center; justify-content:space-between; margin-top:.4rem}
  .vc-saved{font-size:.85rem; color:var(--muted)}
  .vc-list{margin:.4rem 0 0; padding-left:1.1rem}
  .vc-list li{margin:.25rem 0}
  .vc-empty{color:var(--muted)}
  .verse.active{background:rgba(5,74,145,.06); border-radius:8px}
</style>
</head>
<body>
<div id="site-header"></div>

<main class="container">
  <header class="page-header">
    <h1 class="page-title" id="pageTitle">New Testament (KJV)</h1>
    <div class="crumbs" id="crumbs">New Testament → Book → Chapter</div>
  </header>

  <div class="reader-toolbar" id="readerToolbar" role="navigation" aria-label="Chapter navigation">
    <button class="btn prev" id="btnPrev" aria-label="Previous chapter">← Prev</button>
    <div class="ch-picker">
      <label for="chSelect" class="sr-only">Select chapter</label>
      <select id="chSelect"></select>
    </div>
    <button class="btn next" id="btnNext" aria-label="Next chapter">Next →</button>
  </div>

  <section class="layout">
    <div class="panel">
      <h3>Text</h3>
      <div id="verses"><p class="muted">Loading…</p></div>
    </div>

    <aside class="panel">
      <h3>Strong’s (Lexicon)</h3>
      <div id="lexicon"><p class="muted">Loading…</p></div>

      <hr style="border:none;border-top:1px solid var(--sky);margin:12px 0">

      <h3>Verse Commentary</h3>
      <div id="vcPanel" aria-live="polite">
        <div class="vc-head">
          <div class="vc-ref" id="vcRef">Click a verse to add a note</div>
          <div class="vc-buttons">
            <button class="vc-btn" id="vcClear" disabled>Clear</button>
          </div>
        </div>
        <textarea class="vc-text" id="vcText" placeholder="Start typing your personal commentary…" disabled></textarea>
        <div class="vc-foot">
          <button class="vc-btn" id="vcSave" disabled>Save</button>
          <div class="vc-saved" id="vcSaved"></div>
        </div>

        <details style="margin-top:.6rem">
          <summary>All notes in this chapter</summary>
          <ul class="vc-list" id="vcList"><li class="vc-empty">No verse notes yet.</li></ul>
        </details>
      </div>
    </aside>
  </section>
</main>

<div id="site-footer"></div>
<div id="hovercard" class="hovercard" role="dialog" aria-hidden="true"></div>

<script src="/israelite-research/js/include.js"></script>
<script src="/israelite-research/js/nt-chapter.js"></script>
</body>
</html>
