<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>New Testament — Chapter</title>
  <link rel="stylesheet" href="/israelite-research/styles.css"/>
  <style>
    :root{--ink:#0b2340;--accent:#F17300;--brand:#054A91;--muted:#6b7280;--sky:#DBE4EE;--white:#fff}
    .container{max-width:1200px;margin:0 auto;padding:0 16px}
    .page-header{padding:24px 0 8px}
    .page-title{margin:0;font-size:2rem;font-weight:800;color:var(--ink)}
    .breadcrumb{color:var(--muted);font-size:.9rem;margin-top:6px}
    .layout{display:grid;grid-template-columns:1fr 320px;gap:24px}
    .card{background:var(--white);border:1px solid var(--sky)}
    .verses{padding:16px}
    .verse{padding:10px 12px;border-bottom:1px solid var(--sky)}
    .verse:last-child{border-bottom:0}
    .vnum{font-weight:800;color:var(--brand);margin-right:8px}
    .tools{margin-top:8px;display:flex;gap:8px;flex-wrap:wrap}
    .btn{display:inline-block;padding:6px 10px;border:1px solid var(--sky);text-decoration:none;color:var(--brand);font-weight:700}
    .sidebar{display:flex;flex-direction:column;gap:16px}
    .sidebar .card{padding:14px}
    .sb-title{margin:0 0 8px;font-size:1rem;color:var(--ink);text-align:center}
  </style>
</head>
<body>
  <div id="site-header"></div>

  <main>
    <header class="page-header">
      <div class="container">
        <h1 id="pageTitle" class="page-title">New Testament</h1>
        <div id="crumb" class="breadcrumb">New Testament</div>
      </div>
    </header>

    <section class="container layout">
      <article class="card">
        <div id="verses" class="verses">
          <!-- verses render here -->
        </div>
      </article>

      <aside class="sidebar">
        <section class="card">
          <h3 class="sb-title">Zondervan Compact Bible Dictionary</h3>
          <div id="dictionaryBox">
            <p style="color:var(--muted);margin:0">Select a word or verse to view dictionary entries.</p>
          </div>
        </section>
      </aside>
    </section>
  </main>

  <div id="site-footer"></div>

  <!-- Shared partials (header/footer) -->
  <script src="/israelite-research/js/include.js"></script>

  <!-- NT chapter loader (expects ?book=<slug>&ch=<n> and JSON at /data/newtestament/<book>/<ch>.json) -->
  <script src="/israelite-research/js/nt-chapter.js"></script>

  <script>
    // Set dynamic title + breadcrumbs from query params
    (function () {
      const params = new URLSearchParams(location.search);
      const book = (params.get('book') || '').trim();
      const ch = parseInt(params.get('ch') || '1', 10);
      const display = book
        .replace(/-/g, ' ')
        .replace(/\b\w/g, c => c.toUpperCase())
        .replace(/\bIi\b/g,'II').replace(/\bIii\b/g,'III').replace(/\bI\b/g,'I');

      const t = document.getElementById('pageTitle');
      const c = document.getElementById('crumb');
      if (book) {
        t.textContent = `${display} ${isFinite(ch) ? '— Chapter ' + ch : ''}`;
        c.textContent = `New Testament → ${display}${isFinite(ch) ? ' → Chapter ' + ch : ''}`;
      } else {
        t.textContent = `New Testament`;
        c.textContent = `New Testament`;
      }
    })();
  </script>
</body>
</html>
