<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Israelite Research — Events</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    :root{
      --blue-900:#054A91; --blue-700:#3E7CB1; --blue-400:#81A4CD; --blue-100:#DBE4EE; --accent:#F17300;
    }

    /* -------- Breadcrumbs (unchanged) -------- */
    .breadcrumb{font-size:.95rem;margin:1rem 0 1.25rem}
    .breadcrumb ol{list-style:none;display:flex;flex-wrap:wrap;gap:.5rem;padding:0;margin:0}
    .breadcrumb li{color:#666;display:inline-flex;align-items:center}
    .breadcrumb li a{text-decoration:none;color:inherit}
    .breadcrumb li+li::before{content:"›";margin:0 .5rem;color:#999}

    /* -------- HERO (kept) -------- */
    .hero-events{
      background: linear-gradient(135deg,var(--blue-900),var(--blue-700) 55%,var(--blue-400));
      color:#fff;padding:4rem 1.5rem;text-align:center;
      border-bottom:6px solid var(--accent);border-radius:0 0 18px 18px;
      box-shadow:0 6px 18px rgba(0,0,0,.12);
    }
    .hero-divider{height:12px;background:linear-gradient(90deg,var(--accent) 0 140px,transparent 140px) bottom/100% 6px no-repeat}

    /* -------- New Events Layout -------- */
    .events-wrap{display:grid;grid-template-columns:280px 1fr;gap:1.25rem;margin-top:1.5rem}
    @media (max-width: 900px){.events-wrap{grid-template-columns:1fr}}

    .events-filters{
      background:#fff;border:1px solid #e6ebf2;border-radius:12px;padding:1rem;
      box-shadow:0 2px 8px rgba(0,0,0,.04);position:sticky;top:1rem;height:max-content
    }
    .events-filters h3{margin:.25rem 0 .75rem;font-size:1.05rem}
    .filter-group{margin-bottom:1rem}
    .filter-group label{display:block;font-size:.92rem;color:#333;margin:.35rem 0}
    .filter-group input[type="text"],
    .filter-group select{
      width:100%;padding:.55rem .6rem;border:1px solid #dbe1ea;border-radius:8px;
      font-size:.95rem;outline:none
    }
    .chips{display:flex;flex-wrap:wrap;gap:.5rem;margin-top:.5rem}
    .chip{
      display:inline-flex;align-items:center;gap:.4rem;padding:.35rem .6rem;border-radius:999px;
      background:#f7f9fc;border:1px solid #e6ebf2;font-size:.85rem;color:#054A91;cursor:pointer
    }
    .chip input{accent-color:var(--blue-700)}
    .filters-actions{display:flex;gap:.5rem;margin-top:.75rem}
    .btn-clear,.btn-apply{
      border:1px solid #e6ebf2;background:#fff;border-radius:10px;padding:.5rem .8rem;font-weight:600;
      color:#054A91;cursor:pointer
    }
    .btn-apply{background:#DBE4EE}

    .events-results{display:flex;flex-direction:column;gap:1rem}
    .month-head{
      position:sticky;top:0;background:#fff;padding:.35rem .5rem;border-left:4px solid var(--accent);
      color:#333;font-weight:700;border-radius:6px
    }
    .event-card{
      display:grid;grid-template-columns:120px 1fr;gap:1rem;align-items:center;background:#fff;
      border:1px solid #e6ebf2;border-radius:12px;padding:1rem;box-shadow:0 2px 8px rgba(0,0,0,.04)
    }
    @media (max-width: 600px){.event-card{grid-template-columns:1fr}}
    .date-badge{
      display:flex;flex-direction:column;align-items:center;justify-content:center;gap:.2rem;
      border:1px solid #e6ebf2;border-radius:12px;padding:.75rem 0
    }
    .date-badge .month{font-weight:700;color:#054A91}
    .date-badge .day{font-size:1.6rem;font-weight:800;color:#333;line-height:1}
    .date-badge .dow{font-size:.85rem;color:#666}
    .event-info h3{margin:.1rem 0 .4rem;font-size:1.1rem}
    .meta{color:#666;font-size:.92rem;margin-bottom:.4rem}
    .tags{display:flex;gap:.35rem;flex-wrap:wrap}
    .tag{font-size:.8rem;background:#f7f9fc;border:1px solid #e6ebf2;border-radius:999px;padding:.2rem .5rem;color:#054A91}
    .actions{margin-top:.6rem;display:flex;gap:.5rem;flex-wrap:wrap}
    .btn{
      display:inline-block;padding:.5rem .8rem;border-radius:10px;border:1px solid #e6ebf2;background:#fff;
      color:#054A91;text-decoration:none;font-weight:600
    }
    .btn:hover{transform:translateY(-1px)}
  </style>
</head>
<body>

  <!-- Header partial -->
  <div id="site-header"></div>

  <main class="container events-page">

    <!-- Breadcrumbs ABOVE hero (kept) -->
    <nav id="breadcrumbs" class="breadcrumb" aria-label="Breadcrumb"></nav>

    <!-- HERO (unchanged) -->
    <section class="hero hero-events">
      <h1 class="page-title">Events</h1>
      <p class="page-subtitle">Gatherings, studies, and special series hosted by Israelite Research.</p>
    </section>
    <div class="hero-divider" aria-hidden="true"></div>

    <!-- New STR-style layout -->
    <section class="events-wrap">

      <!-- Filters -->
      <aside class="events-filters" aria-label="Filters">
        <h3>Filter Events</h3>

        <div class="filter-group">
          <label for="search">Search</label>
          <input id="search" type="text" placeholder="Topic, speaker, city…" />
        </div>

        <div class="filter-group">
          <label>Type</label>
          <div class="chips">
            <label class="chip"><input type="checkbox" value="inperson" checked> In-person</label>
            <label class="chip"><input type="checkbox" value="online" checked> Online</label>
          </div>
        </div>

        <div class="filter-group">
          <label for="month">Month</label>
          <select id="month">
            <option value="">All months</option>
            <option value="2025-02">February 2025</option>
            <option value="2025-03">March 2025</option>
            <option value="2025-04">April 2025</option>
          </select>
        </div>

        <div class="filter-group">
          <label for="region">Region</label>
          <select id="region">
            <option value="">Anywhere</option>
            <option value="online">Online</option>
            <option value="northeast">Northeast (US)</option>
            <option value="midwest">Midwest (US)</option>
            <option value="south">South (US)</option>
            <option value="west">West (US)</option>
          </select>
        </div>

        <div class="filters-actions">
          <button class="btn-apply" id="applyFilters" type="button">Apply</button>
          <button class="btn-clear" id="clearFilters" type="button">Clear</button>
        </div>
      </aside>

      <!-- Results -->
      <div class="events-results" id="eventsResults">
        <!-- Month group -->
        <div class="month-head">February 2025</div>

        <!-- Event 1 -->
        <article class="event-card"
          data-type="online" data-region="online" data-month="2025-02"
          data-text="genesis foundations creation covenant online">
          <div class="date-badge">
            <div class="month">FEB</div>
            <div class="day">15</div>
            <div class="dow">Sat</div>
          </div>
          <div class="event-info">
            <h3>Genesis Foundations: Creation &amp; Covenant</h3>
            <div class="meta">Online · 7:00–8:30 PM ET</div>
            <div class="tags">
              <span class="tag">Online</span>
              <span class="tag">Genesis</span>
              <span class="tag">Intro</span>
            </div>
            <div class="actions">
              <a class="btn" href="#" aria-label="Event details">Details</a>
              <a class="btn" href="#" aria-label="Add to calendar">Add to Calendar</a>
            </div>
          </div>
        </article>

        <!-- Event 2 -->
        <article class="event-card"
          data-type="inperson" data-region="northeast" data-month="2025-03"
          data-text="wisdom night proverbs practice boston">
          <div class="date-badge">
            <div class="month">MAR</div>
            <div class="day">03</div>
            <div class="dow">Mon</div>
          </div>
          <div class="event-info">
            <h3>Wisdom Night: Proverbs in Practice</h3>
            <div class="meta">Boston, MA · 6:30–8:00 PM</div>
            <div class="tags">
              <span class="tag">In-person</span>
              <span class="tag">Wisdom</span>
              <span class="tag">Proverbs</span>
            </div>
            <div class="actions">
              <a class="btn" href="#" aria-label="Event details">Details</a>
              <a class="btn" href="#" aria-label="Add to calendar">Add to Calendar</a>
            </div>
          </div>
        </article>

        <!-- Month group -->
        <div class="month-head">April 2025</div>

        <!-- Event 3 -->
        <article class="event-card"
          data-type="online" data-region="online" data-month="2025-04"
          data-text="prophets exile hope lamentations webinar">
          <div class="date-badge">
            <div class="month">APR</div>
            <div class="day">20</div>
            <div class="dow">Sun</div>
          </div>
          <div class="event-info">
            <h3>Prophets &amp; Exile: Hope in Lamentations</h3>
            <div class="meta">Online · 5:00–6:15 PM ET</div>
            <div class="tags">
              <span class="tag">Online</span>
              <span class="tag">Prophets</span>
              <span class="tag">Lamentations</span>
            </div>
            <div class="actions">
              <a class="btn" href="#" aria-label="Event details">Details</a>
              <a class="btn" href="#" aria-label="Add to calendar">Add to Calendar</a>
            </div>
          </div>
        </article>
      </div>
    </section>
  </main>

  <!-- Footer partial -->
  <div id="site-footer"></div>

  <!-- Partials + Breadcrumbs -->
  <script src="/israelite-research/js/include.js"></script>
  <script src="/israelite-research/js/breadcrumbs.js" defer></script>

  <!-- Page-local filtering (simple client-side match) -->
  <script>
    (function(){
      const $ = sel => document.querySelector(sel);
      const $$ = sel => Array.from(document.querySelectorAll(sel));

      const search = $('#search');
      const month  = $('#month');
      const region = $('#region');
      const checks = $$('.chip input[type="checkbox"]');
      const apply  = $('#applyFilters');
      const clear  = $('#clearFilters');
      const cards  = $$('#eventsResults .event-card');

      function visible(card){
        const q = (search.value || '').trim().toLowerCase();
        const m = month.value;
        const r = region.value;
        const types = new Set(checks.filter(c=>c.checked).map(c=>c.value));

        const tOk = types.has(card.dataset.type);
        const mOk = !m || card.dataset.month === m;
        const rOk = !r || card.dataset.region === r;
        const qOk = !q || (card.dataset.text || '').includes(q);

        return tOk && mOk && rOk && qOk;
      }

      function applyFilters(){
        cards.forEach(c => {
          c.style.display = visible(c) ? '' : 'none';
        });
      }

      function clearFiltersFn(){
        search.value = '';
        month.value = '';
        region.value = '';
        checks.forEach(c => c.checked = true);
        applyFilters();
      }

      apply.addEventListener('click', applyFilters);
      clear.addEventListener('click', clearFiltersFn);
      search.addEventListener('keydown', e => { if(e.key==='Enter'){ e.preventDefault(); applyFilters(); } });
    })();
  </script>
</body>
</html>
