<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta content="width=device-width,initial-scale=1" name="viewport"/>
  <title>Events — Semitic Jew</title>
  <link href="/israelite-research/styles.css" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Spectral:wght@400;600;700&display=swap" rel="stylesheet"/>

  <style>
    :root{
      --ink:#0b2340; --muted:#6b7280; --blue:#054A91;
      --brand2:#3E7CB1; --brand3:#81A4CD; --accent:#F17300;
      --card:#ffffff; --border:#e6ebf2;

      /* Event type colors */
      --evt-xspace:#000000;
      --evt-youtube:#808080;  /* gray for YouTube */
      --evt-discord:#5865f2;
      --evt-sabbath:#8B0000;
      --evt-newmoon:#054A91;
      --evt-feast:#F17300;
    }

    .events-page .container{max-width:1200px;margin:0 auto;padding:0 16px}
    .events-page main{padding:24px 0 48px}
    .events-title{margin:0 0 12px;font-size:2rem;font-weight:800;color:var(--ink)}

    /* Controls */
    .calendar-bar{
      display:flex;flex-wrap:wrap;gap:.6rem;align-items:center;
      margin:10px 0 18px;font-family:'Spectral',serif;
    }
    .calendar-bar .spacer{flex:1}
    .calendar-bar .btn,
    .calendar-bar select{
      appearance:none;border:1px solid var(--border);background:#fff;color:var(--ink);
      padding:.56rem .8rem;border-radius:8px;font-weight:600;cursor:pointer;line-height:1;
      box-shadow:0 1px 0 rgba(0,0,0,.02);
    }
    .calendar-bar .btn:hover{background:#f8fafc}
    .calendar-bar .btn.primary{background:var(--brand2);color:#fff;border-color:var(--brand2)}
    .calendar-bar .btn.primary:hover{background:var(--brand3)}
    .calendar-bar select{padding-right:2rem}

    /* Calendar */
    .calendar-wrap{
      border:1px solid var(--border);border-radius:14px;background:var(--card);padding:14px;
      font-family:'Spectral',serif;
    }
    .calendar-grid{
      display:grid;grid-template-columns:repeat(7,minmax(140px,1fr));gap:10px;
    }
    @media (max-width:980px){ .calendar-grid{grid-template-columns:repeat(7,minmax(110px,1fr))} }
    @media (max-width:820px){ .calendar-grid{grid-template-columns:repeat(7,minmax(95px,1fr))} }
    @media (max-width:720px){ .calendar-grid{grid-template-columns:repeat(7,1fr)} }

    .dow{
      text-align:center;font-weight:700;color:var(--ink);padding:8px 0 4px;
      border-bottom:1px solid var(--border);user-select:none;
    }
    .day{
      border:1px solid var(--border);border-radius:12px;padding:10px;min-height:140px;
      display:flex;flex-direction:column;gap:8px;background:#fff;cursor:pointer;
      transition:box-shadow .15s,border-color .15s;
    }
    .day:focus,.day:hover{border-color:#d7dfeb;box-shadow:0 2px 10px rgba(0,0,0,.04)}
    .day.muted{opacity:.55}
    .date-badge{display:flex;align-items:center;justify-content:space-between;font-weight:700;color:var(--ink)}
    .date-badge .today{padding:.2rem .5rem;border-radius:999px;font-size:.75rem;background:var(--brand2);color:#fff}

    /* Cell preview: show up to 2 items + “+N more” link */
    .events{display:flex;flex-direction:column;gap:6px;margin-top:2px}
    .evt-preview{
      display:flex;align-items:center;gap:8px;padding:.35rem .5rem;border:1px solid var(--border);
      border-radius:10px;background:#fcfdff;font-size:.88rem;line-height:1.2;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
    }
    .evt-preview .dot{width:10px;height:10px;border-radius:50%;flex:0 0 auto;border:1px solid rgba(0,0,0,.08)}
    .evt-preview .time{font-weight:700;opacity:.9}
    .more-link{font-size:.85rem;color:var(--blue);text-decoration:underline;width:max-content}

    /* Color mapping for preview dots */
    .evt-preview.xspace  .dot{background:var(--evt-xspace)}
    .evt-preview.youtube .dot{background:var(--evt-youtube)}
    .evt-preview.discord .dot{background:var(--evt-discord)}
    .evt-preview.sabbath .dot{background:var(--evt-sabbath)}
    .evt-preview.newmoon .dot{background:var(--evt-newmoon)}
    .evt-preview.feast   .dot{background:var(--evt-feast)}

    /* Legend */
    .legend{
      display:flex;flex-wrap:wrap;gap:10px 18px;align-items:center;margin-top:12px;font-family:'Spectral',serif
    }
    .legend .item{display:flex;align-items:center;gap:8px;color:#111}
    .legend .swatch{width:12px;height:12px;border-radius:50%;border:1px solid rgba(0,0,0,.12)}
    .legend .xspace  .swatch{background:var(--evt-xspace)}
    .legend .youtube .swatch{background:var(--evt-youtube)}
    .legend .discord .swatch{background:var(--evt-discord)}
    .legend .sabbath .swatch{background:var(--evt-sabbath)}
    .legend .newmoon .swatch{background:var(--evt-newmoon)}
    .legend .feast   .swatch{background:var(--evt-feast)}

    /* Drawer (full event details — not squeezed) */
    .event-drawer{
      margin-top:14px;border:1px solid var(--border);border-radius:14px;background:#fff;overflow:hidden
    }
    .drawer-head{
      display:flex;align-items:center;justify-content:space-between;gap:12px;
      padding:12px 14px;border-bottom:1px solid var(--border)
    }
    .drawer-title{margin:0;font-weight:800;color:var(--ink)}
    .drawer-close{
      border:1px solid var(--border);background:#fff;border-radius:10px;padding:.4rem .6rem;cursor:pointer
    }
    .drawer-body{padding:12px 14px;display:grid;gap:10px}
    .evt-full{
      display:flex;gap:10px;align-items:flex-start;border:1px solid var(--border);border-radius:12px;padding:10px;background:#fcfdff
    }
    .evt-full .dot{width:12px;height:12px;border-radius:50%;margin-top:.35rem;border:1px solid rgba(0,0,0,.08)}
    .evt-meta{display:flex;gap:12px;flex-wrap:wrap;font-size:.95rem}
    .evt-meta strong{font-weight:800}
    .evt-title{font-weight:700}
    .evt-actions{margin-left:auto}
    .evt-actions a{color:var(--blue);text-decoration:underline}
  </style>
</head>
<body class="events-page" data-page="events">
  <!-- Universal header -->
  <div id="site-header">
    <!-- (Your header partial already inlined here previously) -->
  </div>

  <main class="container">
    <h1 class="events-title">Events</h1>

    <div class="calendar-bar">
      <button id="prevBtn" class="btn" aria-label="Previous Month">Previous</button>
      <button id="todayBtn" class="btn primary" aria-label="Go to Today">Today</button>
      <button id="nextBtn" class="btn" aria-label="Next Month">Next</button>

      <div class="spacer"></div>

      <select id="monthSelect" aria-label="Select Month"></select>
      <select id="daySelect" aria-label="Select Day"></select>
      <select id="yearSelect" aria-label="Select Year"></select>
    </div>

    <section class="calendar-wrap">
      <div id="calendarDow" class="calendar-grid" aria-hidden="true"></div>
      <div id="calendarGrid" class="calendar-grid" aria-live="polite"></div>

      <div class="legend" aria-label="Event Types Legend">
        <div class="item xspace"><span class="swatch"></span><span>X Space (#000000)</span></div>
        <div class="item youtube"><span class="swatch"></span><span>YouTube Live (Gray)</span></div>
        <div class="item discord"><span class="swatch"></span><span>Discord Live (#5865f2)</span></div>
        <div class="item sabbath"><span class="swatch"></span><span>Sabbath (#8B0000)</span></div>
        <div class="item newmoon"><span class="swatch"></span><span>New Moon (#054A91)</span></div>
        <div class="item feast"><span class="swatch"></span><span>Feast Days (#F17300)</span></div>
      </div>

      <!-- Not-squeezed event details appear here -->
      <aside id="eventDrawer" class="event-drawer" hidden>
        <div class="drawer-head">
          <h2 class="drawer-title" id="drawerTitle">Events</h2>
          <button class="drawer-close" id="drawerClose" aria-label="Close">Close</button>
        </div>
        <div class="drawer-body" id="drawerBody"></div>
      </aside>
    </section>
  </main>

  <!-- Universal footer -->
  <div id="site-footer">
    <!-- (Your footer partial already inlined here previously) -->
  </div>

  <script src="/israelite-research/js/calendar.js"></script>
</body>
</html>
