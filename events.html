<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<title>Events — Semitic Jew</title>
<link href="/israelite-research/styles.css" rel="stylesheet"/>
<style>
  /* Scoped calendar styles */
  .events-page .container{max-width:1200px;margin:0 auto;padding:0 16px;}
  .events-page .calendar-wrap{max-width:1000px;margin:0 auto 40px;}
  .events-page .page-header{padding:24px 0 8px;}
  .events-page .page-title{margin:0;font-size:2rem;font-weight:800;}
  .cal-toolbar{display:flex;align-items:center;justify-content:space-between;gap:.75rem;margin:1rem 0 1.25rem;}
  .cal-title{font-size:1.25rem;margin:0;font-weight:700;}
  .cal-nav{display:flex;gap:.5rem;}
  .btn{padding:.45rem .7rem;border:1px solid #e6ebf2;background:#fff;border-radius:10px;cursor:pointer}
  .btn:hover{background:#f8fafc}
  .cal-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:6px}
  .cal-dow{background:#f8fafc;border:1px solid #e6ebf2;border-radius:10px;padding:.4rem 0;text-align:center;font-weight:600;color:#555}
  .cal-cell{min-height:110px;border:1px solid #e6ebf2;border-radius:10px;background:#fff;padding:.5rem;display:flex;flex-direction:column}
  .cal-cell.is-today{outline:2px solid var(--accent,#F17300)}
  .cal-date{font-size:.9rem;color:#333;margin-bottom:.35rem}
  .cal-empty{opacity:.35}
  .evt-chip{font-size:.82rem;line-height:1.2;background:#054A910D;border:1px solid #e6ebf2;border-radius:8px;padding:.25rem .35rem;margin:.15rem 0;cursor:pointer;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
  .cal-legend{display:flex;gap:.5rem;align-items:center;margin:.75rem 0 0;color:#666;font-size:.9rem}
  .dot{width:10px;height:10px;border-radius:50%;background:#054A91;display:inline-block}
  /* Modal */
  .modal{position:fixed;inset:0;background:rgba(0,0,0,.35);display:none;align-items:center;justify-content:center;padding:1rem;z-index:9999}
  .modal.open{display:flex}
  .modal-card{width:min(560px,92vw);background:#fff;border-radius:14px;border:1px solid #e6ebf2;box-shadow:0 8px 30px rgba(0,0,0,.12);overflow:hidden}
  .modal-head{display:flex;align-items:center;justify-content:space-between;padding:1rem 1rem .5rem 1rem;border-bottom:1px solid #eef2f7}
  .modal-title{font-size:1.1rem;margin:0}
  .modal-body{padding:1rem;display:grid;gap:.8rem}
  .form-row{display:grid;grid-template-columns:1fr 1fr;gap:.75rem}
  label{font-size:.9rem;color:#333}
  input[type="text"],input[type="date"],input[type="time"],textarea,select{
    width:100%;border:1px solid #e6ebf2;border-radius:10px;padding:.55rem .65rem;font:inherit
  }
  textarea{min-height:120px;resize:vertical}
  .modal-foot{display:flex;justify-content:space-between;gap:.5rem;padding:0 1rem 1rem}
  .btn-primary{background:var(--accent,#F17300);color:#fff;border-color:transparent}
  .btn-danger{border-color:#ffd8d8;background:#fff;color:#b42318}
  .btn-ghost{background:transparent}
</style>
</head>
<body class="events-page">
<div id="site-header"></div>
<main>
<div class="calendar-wrap">
  <div class="cal-toolbar">
    <div class="cal-nav">
      <button class="btn" id="prevBtn">‹ Prev</button>
      <button class="btn" id="todayBtn">Today</button>
      <button class="btn" id="nextBtn">Next ›</button>
    </div>
    <h2 class="cal-title" id="calTitle">Month YYYY</h2>
    <button class="btn btn-primary" id="addEventBtn">+ Add Event</button>
  </div>
  <div class="cal-grid" id="dowRow">
    <div class="cal-dow">Sun</div><div class="cal-dow">Mon</div><div class="cal-dow">Tue</div>
    <div class="cal-dow">Wed</div><div class="cal-dow">Thu</div><div class="cal-dow">Fri</div><div class="cal-dow">Sat</div>
  </div>
  <div class="cal-grid" id="calGrid"></div>
  <div class="cal-legend"><span class="dot"></span> Event</div>
</div>
</main>
<div id="site-footer"></div>

<!-- Modal -->
<div class="modal" id="eventModal" role="dialog">
  <div class="modal-card">
    <div class="modal-head">
      <h3 class="modal-title" id="modalTitle">Add Event</h3>
      <button class="btn btn-ghost" id="closeModal">✕</button>
    </div>
    <div class="modal-body">
      <div class="form-row">
        <div>
          <label for="evtDate">Date</label>
          <input id="evtDate" type="date"/>
        </div>
        <div>
          <label for="evtTime">Time <span class="muted">(optional)</span></label>
          <input id="evtTime" type="time"/>
        </div>
      </div>
      <div class="form-row">
        <div>
          <label for="evtMonth">Month</label>
          <select id="evtMonth"></select>
        </div>
        <div>
          <label for="evtDay">Day</label>
          <select id="evtDay"></select>
        </div>
        <div>
          <label for="evtYear">Year</label>
          <select id="evtYear"></select>
        </div>
      </div>
      <div>
        <label for="evtTitle">Title</label>
        <input id="evtTitle" placeholder="e.g., Bible Study" type="text"/>
      </div>
      <div>
        <label for="evtDesc">Description <span class="muted">(optional)</span></label>
        <textarea id="evtDesc" placeholder="Notes, location, link…"></textarea>
      </div>
    </div>
    <div class="modal-foot">
      <button class="btn btn-danger" id="deleteEvent" style="display:none">Delete</button>
      <div style="margin-left:auto;display:flex;gap:.5rem">
        <button class="btn" id="cancelEvent">Cancel</button>
        <button class="btn btn-primary" id="saveEvent">Save</button>
      </div>
    </div>
  </div>
</div>

<script src="/israelite-research/js/include.js"></script>
<script>
// Populate month/day/year selectors
(function(){
  const mSel=document.getElementById('evtMonth');
  const dSel=document.getElementById('evtDay');
  const ySel=document.getElementById('evtYear');
  if(mSel&&dSel&&ySel){
    const months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];
    months.forEach((m,i)=>{let o=document.createElement('option');o.value=i+1;o.text=m; mSel.add(o);});
    for(let d=1;d<=31;d++){let o=document.createElement('option');o.value=d;o.text=d; dSel.add(o);}
    const yNow=new Date().getFullYear();
    for(let y=yNow-5;y<=yNow+5;y++){let o=document.createElement('option');o.value=y;o.text=y; ySel.add(o);}
  }
})();
</script>
</body>
</html>
