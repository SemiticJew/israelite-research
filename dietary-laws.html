<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Dietary Laws ‚Äî Semitic Jew</title>
  <link rel="stylesheet" href="/israelite-research/styles.css"/>
  <style>
    :root{--ink:#0b2340;--accent:#F17300;--brand:#054A91;--muted:#6b7280;--sky:#DBE4EE;--white:#fff}
    .container{max-width:1200px;margin:0 auto;padding:0 16px}
    .page-header{padding:24px 0 8px}
    .page-title{margin:0;font-size:2rem;font-weight:800;color:var(--ink)}
    .breadcrumb{color:var(--muted);font-size:.9rem;margin-top:6px}

    /* Tree */
    .tree{margin:14px 0 36px}
    .tree details{border:1px solid var(--sky); background:var(--white); margin:8px 0; border-radius:10px; padding:8px 10px}
    .tree details>summary{cursor:pointer; font-weight:800; color:var(--brand); outline:none}
    .tree details[open]{box-shadow:0 4px 10px rgba(0,0,0,.06)}
    .tree .group{margin:8px 0 0 0; padding:0}
    .tree .group details{margin:6px 0}
    .tree .leaf{list-style:none; margin:4px 0; display:flex; align-items:center; gap:.5rem}
    .law-link{color:var(--brand); text-decoration:none; border-bottom:1px solid transparent}
    .law-link:hover{border-bottom-color:var(--brand)}

    .tag{display:inline-block; font-size:.78rem; color:#333; background:#054A910D; border:1px solid var(--sky); border-radius:8px; padding:.05rem .35rem}
    .chips{display:flex; flex-wrap:wrap; gap:.35rem; margin:.4rem 0 0 0}
    .chip{display:inline-flex; align-items:center; gap:.35rem; border:1px solid var(--sky); background:#f9fafb; border-radius:999px; padding:.18rem .55rem; font-size:.82rem}
    .chip small{color:var(--muted)}
    .note{color:var(--muted); font-size:.85rem; margin-top:.35rem}

    /* Small icon bullets */
    .emoji{width:1.15rem; text-align:center}
  </style>
</head>
<body>
  <div id="site-header"></div>

  <main class="container">
    <header class="page-header">
      <h1 class="page-title">Dietary Laws</h1>
      <div class="breadcrumb">Biblia ‚Üí Dietary Laws</div>
    </header>

    <section class="tree" id="dietTree" aria-label="Collapsible tree of dietary laws"></section>

    <p class="note">
      <strong>Note:</strong> ‚ÄúModern examples‚Äù are practical guides based on the biblical categories (e.g., fins & scales; cloven hoof & chewing cud).
      Local traditions may vary on certain birds/insects; always verify sourcing and preparation (e.g., blood removal per Lev 17).
    </p>
  </main>

  <div id="site-footer"></div>
  <script src="/israelite-research/js/include.js"></script>
  <script>
    // --- Book slug map for links (extend anytime) ---
    const BOOK_SLUG = {
      "Genesis":"genesis","Exodus":"exodus","Leviticus":"leviticus","Numbers":"numbers","Deuteronomy":"deuteronomy",
      "Matthew":"matthew","Mark":"mark","Luke":"luke","John":"john","Acts":"acts","Romans":"romans"
    };

    // "Lev 11:3" -> {book:"Leviticus", ch:11, v:3, slug:"leviticus"}
    function parseRef(ref){
      const m = String(ref).trim().match(/^([1-3]?\s?[A-Za-z]+)\s+(\d+):(\d+)$/);
      if(!m) return null;
      const bookName = m[1].replace(/\s+/g," ").trim();
      const ch = parseInt(m[2],10), v = parseInt(m[3],10);
      const base = bookName.replace(/^1\s|^2\s|^3\s/,'');
      const slug = BOOK_SLUG[base] || BOOK_SLUG[bookName] || base.toLowerCase();
      return { book:bookName, ch, v, slug };
    }
    function refHref(ref){
      const p = parseRef(ref); if(!p) return '#';
      const canon = (["Genesis","Exodus","Leviticus","Numbers","Deuteronomy"].includes(p.book) ? "tanakh" : "newtestament");
      return `/israelite-research/${canon}/chapter.html?book=${encodeURIComponent(p.slug)}&ch=${p.ch}#v${p.v}`;
    }

    // ---------- DATA with modern examples ----------
    const DATA = {
      "Clean": {
        "üêÑ Mammals": {
          refs: ["Leviticus 11:3", "Deuteronomy 14:4", "Deuteronomy 14:6"],
          examples: [
            {name:"Cattle (beef)", why:"cloven hoof, chews cud"},
            {name:"Sheep (lamb/mutton)", why:"cloven hoof, chews cud"},
            {name:"Goat (chevon)", why:"cloven hoof, chews cud"},
            {name:"Deer/Antelope", why:"listed wild clean (Deut 14:5: hart, roebuck, etc.)"}
          ]
        },
        "üêü Fish (fins & scales)": {
          refs: ["Leviticus 11:9", "Deuteronomy 14:9"],
          examples: [
            {name:"Salmon, Trout, Char"},
            {name:"Cod, Haddock, Pollock"},
            {name:"Sardine, Anchovy, Mackerel"},
            {name:"Carp, Tilapia"},
            {name:"Tuna*", why:"scales debate by species‚Äîverify"}
          ]
        },
        "üê¶ Birds (general allowance)": {
          refs: ["Deuteronomy 14:11"],
          examples: [
            {name:"Chicken"},
            {name:"Turkey"},
            {name:"Goose* / Duck*", why:"accepted by many; verify local tradition"},
            {name:"Dove / Pigeon", why:"used for offerings"},
            {name:"Quail"}
          ]
        }
      },

      "Unclean": {
        "üê™ Mammals (do not meet both signs)": {
          refs: ["Leviticus 11:4", "Leviticus 11:7", "Leviticus 11:8", "Deuteronomy 14:7", "Deuteronomy 14:8"],
          examples: [
            {name:"Pig (pork)", why:"split hoof but does not chew cud"},
            {name:"Camel", why:"chews cud but no split hoof"},
            {name:"Hare / Rabbit", why:"chews cud (appearance) but no split hoof"},
            {name:"Rock badger (hyrax)", why:"chews cud (appearance) but no split hoof"}
          ]
        },
        "ü¶ê Aquatic (no fins & scales)": {
          refs: ["Leviticus 11:10"],
          examples: [
            {name:"Shrimp, Prawn"},
            {name:"Crab, Lobster"},
            {name:"Oyster, Clam, Mussel, Scallop"},
            {name:"Squid, Octopus"},
            {name:"Eel, Catfish*", why:"scales absent/non-removable"}
          ]
        },
        "ü¶Ö Birds (forbidden list patterns)": {
          refs: ["Leviticus 11:13", "Leviticus 11:19", "Deuteronomy 14:12", "Deuteronomy 14:18"],
          examples: [
            {name:"Birds of prey", why:"eagle, hawk, falcon, kite, osprey"},
            {name:"Carrion/seabirds", why:"vulture, raven, cormorant, pelican"},
            {name:"Owls & night birds"},
            {name:"Stork, Heron"},
            {name:"Bat", why:"explicitly forbidden"}
          ]
        },
        "üêú Insects": {
          refs: ["Leviticus 11:20", "Leviticus 11:23"],
          examples: [
            {name:"Most winged creeping things", why:"unclean"},
            {name:"Locust/Grasshopper families", why:"specific kinds permitted (Lev 11:22) if identified correctly"}
          ]
        }
      },

      "Prohibited Practices": {
        "Blood": {
          refs: ["Leviticus 17:10", "Leviticus 17:12", "Leviticus 17:14"],
          examples: [
            {name:"Blood dishes (e.g., blood sausage)", why:"forbidden"},
            {name:"Undrained meat", why:"drain & salt to remove blood"}
          ]
        },
        "Carcasses / torn animals": {
          refs: ["Leviticus 11:39", "Leviticus 11:40", "Exodus 22:31", "Leviticus 17:15"],
          examples: [
            {name:"Animals dead of themselves", why:"do not eat"},
            {name:"Torn by beasts", why:"do not eat"}
          ]
        },
        "Certain fats (ox/sheep/goat)": {
          refs: ["Leviticus 7:23", "Leviticus 7:25"],
          examples: [
            {name:"Suet/fat reserved from these animals", why:"do not eat"}
          ]
        }
      }
    };

    // ---------- Renderer ----------
    (function renderTree(){
      const root = document.getElementById('dietTree');
      const frag = document.createDocumentFragment();

      Object.entries(DATA).forEach(([section, groups]) => {
        const sec = document.createElement('details');
        sec.open = true;
        const sum = document.createElement('summary');
        sum.textContent = section;
        sec.appendChild(sum);

        const wrap = document.createElement('div');
        wrap.className = 'group';

        Object.entries(groups).forEach(([label, payload]) => {
          const grp = document.createElement('details');
          const gsum = document.createElement('summary');

          // Normalize payload -> {refs:[], examples:[]}
          let refs = [], examples = [];
          if (Array.isArray(payload)) {
            refs = payload;
          } else if (payload && typeof payload === 'object') {
            refs = Array.isArray(payload.refs) ? payload.refs : [];
            examples = Array.isArray(payload.examples) ? payload.examples : [];
          }

          gsum.innerHTML = `${label} <span class="tag">${refs.length} refs</span>${examples.length ? ' <span class="tag">'+examples.length+' examples</span>' : ''}`;
          grp.appendChild(gsum);

          // Refs list
          if (refs.length) {
            const ul = document.createElement('ul');
            ul.style.margin = '6px 0 0 18px'; ul.style.padding = '0';
            refs.forEach(r => {
              const li = document.createElement('li'); li.className = 'leaf';
              const a = document.createElement('a'); a.className = 'law-link'; a.href = refHref(r); a.textContent = r;
              li.appendChild(a);
              ul.appendChild(li);
            });
            grp.appendChild(ul);
          }

          // Examples chips
          if (examples.length) {
            const chipWrap = document.createElement('div');
            chipWrap.className = 'chips';
            examples.forEach(ex => {
              const chip = document.createElement('span'); chip.className = 'chip';
              chip.textContent = ex.name || '';
              if (ex.why) {
                const sm = document.createElement('small'); sm.textContent = '‚Äî ' + ex.why;
                chip.appendChild(sm);
              }
              chipWrap.appendChild(chip);
            });
            grp.appendChild(chipWrap);
          }

          wrap.appendChild(grp);
        });

        sec.appendChild(wrap);
        frag.appendChild(sec);
      });

      root.innerHTML = '';
      root.appendChild(frag);
    })();
  </script>
</body>
</html>
